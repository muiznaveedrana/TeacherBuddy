# Y4: Multi-Step Problems ({{questionCount}}Q)

**CRITICAL: EXACTLY {{questionCount}} questions. Two and three-step word problems with reasoning.**

BGs: Q1=#FFF9C4 Q2=#E3F2FD Q3=#F1F8E9 Q4=#FCE4EC Q5=#FFF3E0

## YEAR 4 FOCUS (Ages 8-9)
- **Multi-step**: Problems requiring 2-3 operations
- **Problem-solving**: Identify information, plan steps, solve, check
- **Bar models**: Visual representation of complex problems
- **Reasoning**: Explain thinking and justify answers
- **Real contexts**: UK money, shopping, school, sports, travel

## QUESTION TYPES

**Q1**: Two-step problem (add then subtract). Clear step-by-step structure.

**Q2**: Two-step with bar model. Visual support for understanding.

**Q3**: Three-step problem. More complex multi-operation scenario.

**Q4**: Missing information problem. Identify what's given and what's needed.

**Q5**: Open-ended reasoning. Multiple possible approaches.

## PROBLEM-SOLVING PROCESS (Year 4)

### Step 1: UNDERSTAND
- Read carefully
- Highlight key information
- What do you know?
- What do you need to find?

### Step 2: PLAN
- How many steps?
- Which operations?
- In what order?
- Draw a diagram?

### Step 3: SOLVE
- Work through each step
- Show all working
- Check each calculation

### Step 4: CHECK
- Does answer make sense?
- Use inverse operations
- Try estimation

## COLOR SCHEME (Year 4 Enhanced)
- **Step 1**: #FF9800 (orange)
- **Step 2**: #2196F3 (blue)
- **Step 3**: #4CAF50 (green)
- **Bar model whole**: #6A1B9A (dark purple)
- **Bar model parts**: Shades of purple
- **Unknown**: #FFE082 (amber) with dashed border

## CSS:
```css
body{font-family:'Comic Sans MS',sans-serif;font-size:17pt;padding:10px;line-height:1.6}
.question{margin:12px 0;padding:16px;border-radius:8px;border:2px solid #ddd}
.question-number{display:inline-block;background:#4169E1;color:white;width:34px;height:34px;line-height:34px;text-align:center;border-radius:50%;margin-right:8px;font-weight:bold;font-size:16pt}
.question-text{font-size:17pt;margin:8px 0;font-weight:600}
.multi-step-container{margin:20px 0;padding:20px;background:#FFF3E0;border:3px solid #FF9800;border-radius:8px}
.problem-scenario{font-size:18pt;line-height:1.9;margin:18px 0;padding:20px;background:#FFF;border-radius:8px;border:2px solid #ddd}
.step-by-step{margin:25px 0}
.step-box{margin:18px 0;padding:20px;background:#FFF;border-left:8px solid;border-radius:8px;box-shadow:2px 2px 6px rgba(0,0,0,0.1)}
.step-box.step1{border-color:#FF9800;background:#FFF3E0}
.step-box.step2{border-color:#2196F3;background:#E3F2FD}
.step-box.step3{border-color:#4CAF50;background:#E8F5E9}
.step-header{display:flex;align-items:center;margin-bottom:15px}
.step-badge{width:40px;height:40px;background:#FF9800;color:#FFF;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20pt;font-weight:bold;margin-right:15px}
.step-badge.s2{background:#2196F3}
.step-badge.s3{background:#4CAF50}
.step-title{font-size:19pt;font-weight:bold}
.step-content{font-size:18pt;margin:12px 0;line-height:1.7}
.step-calculation{margin:15px 0;padding:18px;background:#FFF;border:3px dashed;border-radius:6px;font-size:24pt;text-align:center;font-family:'Courier New',monospace}
.calc-step1{border-color:#FF9800}
.calc-step2{border-color:#2196F3}
.calc-step3{border-color:#4CAF50}
.bar-model-y4{margin:25px 0;padding:25px;background:#F3E5F5;border:4px solid #9C27B0;border-radius:8px}
.bar-title{font-size:18pt;font-weight:bold;color:#6A1B9A;margin-bottom:20px;text-align:center}
.bar-whole{display:flex;margin:18px 0;border:4px solid #333;border-radius:8px;overflow:hidden}
.bar-parts{display:flex;margin:18px 0;gap:12px}
.bar-segment{height:75px;display:flex;align-items:center;justify-content:center;font-size:24pt;font-weight:bold;color:white;border:4px solid #333;border-radius:8px}
.bar-segment.whole{background:#6A1B9A;width:100%;flex-direction:column}
.bar-segment.part1{background:#9C27B0;flex:1}
.bar-segment.part2{background:#7B1FA2;flex:1}
.bar-segment.part3{background:#6A1B9A;flex:1}
.bar-segment.unknown{background:#FFE082;color:#F57C00;border-style:dashed;border-width:5px;font-size:48pt}
.bar-label{text-align:center;font-size:17pt;font-weight:bold;margin-top:10px;color:#6A1B9A}
.three-step-flow{margin:25px 0;padding:20px;background:#E8F5E9;border:3px solid #4CAF50;border-radius:8px}
.flow-title{font-size:19pt;font-weight:bold;color:#2E7D32;margin-bottom:20px;text-align:center}
.flow-diagram{display:flex;flex-direction:column;gap:15px}
.flow-item{display:flex;align-items:center;gap:15px}
.flow-badge{min-width:50px;height:50px;background:#4CAF50;color:#FFF;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:22pt;font-weight:bold;flex-shrink:0}
.flow-text{flex:1;padding:18px;background:#FFF;border:3px solid #4CAF50;border-radius:8px;font-size:18pt;line-height:1.7}
.flow-calc{margin-top:10px;padding:12px;background:#E8F5E9;border:2px dashed #4CAF50;border-radius:6px;font-size:20pt;font-family:'Courier New',monospace}
.missing-info-container{margin:20px 0;padding:20px;background:#FCE4EC;border:3px solid #E91E63;border-radius:8px}
.info-title{font-size:18pt;font-weight:bold;color:#C2185B;margin-bottom:18px;text-align:center}
.info-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:25px 0}
.info-box{padding:18px;background:#FFF;border:3px solid #E91E63;border-radius:8px}
.info-label{font-size:17pt;font-weight:bold;color:#C2185B;margin-bottom:12px}
.info-list{font-size:17pt;line-height:1.8}
.info-item{margin:8px 0;padding:8px;background:#FFE0F0;border-radius:4px}
.reasoning-container{margin:20px 0;padding:20px;background:#E1F5FE;border:3px solid #03A9F4;border-radius:8px}
.reasoning-title{font-size:18pt;font-weight:bold;color:#01579B;margin-bottom:18px;text-align:center}
.reasoning-prompt{font-size:18pt;line-height:1.8;margin:15px 0;padding:18px;background:#FFF;border:3px dashed #03A9F4;border-radius:8px}
.think-box{margin:20px 0;padding:18px;background:#FFF9C4;border:3px solid #FFC107;border-radius:8px}
.think-label{font-size:17pt;font-weight:bold;color:#F57C00;margin-bottom:12px}
.instruction-box{margin:18px 0;padding:16px;background:#E8F4F8;border:3px dashed #2196F3;border-radius:8px;font-size:17pt;font-weight:600;color:#1565C0}
.answer-box{display:inline-block;min-width:120px;height:55px;border:3px solid #333;border-radius:8px;background:#FFF;vertical-align:middle;margin:0 10px;font-size:24pt;line-height:55px;text-align:center}
.working-space{border:3px dashed #999;padding:15px;margin:15px 0;min-height:100px;background:#FAFAFA;border-radius:8px}
.working-space-label{font-size:14pt;color:#666;font-style:italic;margin-bottom:10px}
.answer-key{margin-top:40px;padding:20px;background:#E8F4F8;border:3px solid #4169E1;border-radius:8px;page-break-before:always}
.answer-key h2{font-size:20pt;color:#2c3e50;margin-bottom:15px;text-align:center;font-weight:bold}
.answer-key p{font-size:15pt;line-height:1.8;margin:10px 0}
.answer-key strong{color:#1976D2}
</style>
```

## WORKED EXAMPLES

### Two-Step Problem
**Problem**: A shop had 3456 books. They sold 1234 books in the morning and 789 books in the afternoon. How many books are left?

**Step 1**: Total sold = 1234 + 789 = 2023
**Step 2**: Books left = 3456 - 2023 = 1433

**Answer**: 1433 books

### Bar Model Example
**Problem**: Tom saved £2345. He spent £678. Then he earned £1250 more. How much does he have now?

```
[2345 - 678 = 1667] + [1250] = ?
```

**Step 1**: After spending = 2345 - 678 = 1667
**Step 2**: After earning = 1667 + 1250 = 2917

**Answer**: £2917

### Three-Step Problem
**Problem**: A school has 4 classes with 32 students each. 18 students are absent. How many students are present?

**Step 1**: Total students = 4 × 32 = 128
**Step 2**: Present = 128 - 18 = 110

**Answer**: 110 students present

## RULES

1. All problems require 2-3 operations
2. Clear step-by-step structure
3. Use bar models where helpful
4. Real-world UK contexts (money, school, travel)
5. Show ALL working
6. Include reasoning and explanation
7. Answer key with full working
8. Colored backgrounds Q1-Q5
9. Year 4 appropriate (ages 8-9)
10. Encourage multiple approaches

## VALIDATION

- [ ] EXACTLY {{questionCount}} questions?
- [ ] Q1: Clear two-step problem?
- [ ] Q2: Bar model representation?
- [ ] Q3: Three-step problem with complexity?
- [ ] Q4: Missing information identified?
- [ ] Q5: Open-ended reasoning problem?
- [ ] All problems multi-step (2-3 operations)?
- [ ] Step-by-step structure clear?
- [ ] Bar models shown where appropriate?
- [ ] Real-world contexts used?
- [ ] Colored backgrounds Q1-Q5?
- [ ] Answer key with full working?
- [ ] Year 4 appropriate complexity?

Generate complete HTML. UK Year 4 aligned (ages 8-9).
